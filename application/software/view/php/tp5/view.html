{include file="php/tp5/template/header" title="TP5 View" /}

<p>
	使用模板变量 <br>
	使用include标签 <br>
	使用layout标签 <br>
	指定要渲染哪个模板文件 <br>
	分页输出 <br>
	输出替换 <br>
	直接渲染内容 <br>
	助手函数 <br>
	使用模板运算符
</p>

<div class="list list-number">
    <div class="title">模板输出(使用模板变量)</div>
    <div class="content closed">
		<p class="text-strong">1) 先在控制器中定义模板变量</p>
		<pre class="prettyprint linenums">
<code>
&lt;?php
namespace app\index\controller;

use app\index\model\User as UserModel;
use think\Controller;

class User extends Controller
{
    // 获取用户数据列表并输出
    public function index()
    {
        $list = UserModel::all();
        $this->assign('list', $list);
        $this->assign('count', count($list));
        return $this->fetch();
    }
}
</code>
		</pre>
		<p>
			这里的User控制器继承了系统的\think\Controller类，该类对视图类的方法进行了封装，所以可以在无需实例化视图类的情况下，直接调用视图类的相关方法，这些方法包括：<br>
			assign: 模板变量赋值 <br>
			fetch: 渲染模板文件 默认渲染输出的模板文件应该是当前控制器和操作对应的模板 <br>
			display: 渲染内容 <br>
			engine: 初始化模板引擎
		</p>

		<p class="text-strong">2) 然后在视图中使用模板变量</p>
		<pre class="prettyprint linenums">
<code>
	// 在视图中使用模板变量
</code>
		</pre>
    </div>

    <div class="title">include标签</div>
    <div class="content open">

		<p>header.html</p>
		<pre class="prettyprint linenums">
<code>
&lt;!doctype html>
&lt;html lang="en">
&lt;head>
&lt;meta charset="UTF-8">
&lt;title>查看用户列表&lt;/title>
&lt;link ref="stylesheet" href="common.css">
&lt;/head>
&lt;body>
</code>
		</pre>

		<p>footer.html</p>
		<pre class="prettyprint linenums">
<code>
&lt;div class="copyright">
    &lt;a title="官网" href="http://www.thinkphp.cn">ThinkPHP&lt;/a> 
    &lt;span>V5&lt;/span> 
    &lt;span>{ 十年磨一剑-为API开发设计的高性能框架 }&lt;/span>
&lt;/div>
&lt;/body>
&lt;/html>
</code>
		</pre>

		<p>index.html: 使用include标签</p>
		<pre class="prettyprint linenums">
<code>
[include file="user/header" /]

&lt;h2>用户列表（[$count]）&lt;/h2> 
[volist name="list" id="user" ]
    &lt;div class="info">
        ID：[$user.id]&lt;br/>
        昵称：[$user.nickname]&lt;br/>
        邮箱：[$user.email]&lt;br/>
    &lt;/div>
[/volist]

[include file="user/footer" /]
</code>
		</pre>

    </div>
</div>
{include file="php/tp5/template/footer" /}